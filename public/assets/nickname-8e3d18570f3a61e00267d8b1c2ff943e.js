$(document).ready(function(){function e(){""!=$(i).val()?$.ajax({url:gon.check_nickname,data:{nickname:$(i).val()},type:"POST",dataType:"json"}).done(function(e){0==$(t+n+" > span.check_nickname").length?$(t+n).html('<span class="check_nickname"></span>'):$(t+n+" > span.check_nickname").empty();var i="";1==e.is_duplicate?($(t+n+" > span.check_nickname").addClass("duplicate").removeClass("not_duplicate"),i=gon.nickname_duplicate):$(t+n+" > span.check_nickname").addClass("not_duplicate").removeClass("duplicate"),i+=" "+gon.nickname_url+" /author/"+e.permalink,$(t+n+" > span.check_nickname").html(i)}):$(t+n+" > span.check_nickname").length>0&&$(t+n+" > span.check_nickname").empty().removeClass("not_duplicate").removeClass("duplicate")}var t="#user_nickname_input",i=t+" input#user_nickname",n=" + div#check_nickname_results",o=0;$(i).length>0&&($(i).bind("keyup",debounce(function(){1!=$(this).val().length&&$(this).val().length!=o&&(e(),o=$(this).val().length)})),e())});